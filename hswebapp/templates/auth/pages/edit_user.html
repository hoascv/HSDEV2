{% extends "layout/base.html" %}


{% block styles %}
{{super()}}
<link rel="stylesheet" href="{{url_for('static', filename='css/hswebapp_edit_user.css')}}"> 
{% endblock %}


{% block content %}




<div class="container">
    <h1 class="well">Profile</h1>
	<div class="col-lg-12 well">
	<div class="row">
    
				<form class="form-signin" method="POST" action="/edit_user">
                {{ form.hidden_tag() }}
					<div class="col-sm-12">
						<div class="row">
							<div class="col-sm-6 form-group">
								<label>{{ form.username.label }}</label>
								{{form.username(class_="form-control")}}
                                {% for error in form.username.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}        
                                
                            </div>
							<div class="col-sm-6 form-group">
								<label>{{ form.email.label }}</label>
                                {{form.email(class_="form-control") }}
								{% for error in form.email.errors %}
                                <span style="color: red;">[{{ error }}]</span>
                                {% endfor %}
							</div>
                            
						</div>					
							
						<div class="row">
							<div class="col-sm-4 form-group">
						    <label>{{ (form.isadmin.label) }}</label>
							{{form.isadmin(class_="form-check") }}
                                
							</div>	
                            <div class="col-sm-4 form-group">
						    <label>{{ (form.isActivated.label) }}</label>
							{{form.isActivated(class_="form-check") }}
                            </div>
                            <div class="col-sm-4 form-group">
								<label>{{ form.acess_group.label }}</label>
                                {{form.acess_group(class_="form-control") }}
								
							</div>
                            	
						</div>
                        <div class="row">
							<div class="col-sm-4 form-group">
								<label>Token</label>
								{{ current_user.token }}
							</div>		
							<div class="col-sm-4 form-group">
								<label>expires in:</label>
                                  {{ hsutil.get_remaining_time(current_user.check_token_duration())}}
								  
							</div>	
                            <div class="col-sm-4 form-group">
								<label>Renew Token:</label>
                                  not implemented:(JS and ajax)
								  
							</div>	
                            
						</div>						
					
                        
						<div class="row">
							<div class="col-sm-6 form-group">
								<label>{{ (form.lastlogin.label) }}</label>
								{{form.lastlogin(class_="form-control") }}
							</div>		
							<div class="col-sm-6 form-group">
								<label>{{ (form.updatedAt.label) }}</label>
								{{form.updatedAt(class_="form-control") }}
							</div>	
						</div>						
					
					 {{ form.submit(class_="btn btn-primary") }}				
					
                    
                    </div>
				</form> 
				</div>
	</div>
	</div>
    
    
    
{% endblock %}
{% block footer %}
{{ super() }}
{% endblock %}